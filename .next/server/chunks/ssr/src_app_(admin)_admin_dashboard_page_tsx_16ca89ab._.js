module.exports=[63056,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35025);var d=a.i(9701),e=a.i(50944),f=a.i(70106);let g=(0,f.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var h=a.i(16201),i=a.i(24987),j=a.i(30756),k=a.i(15618);let l=(0,f.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),m=(0,f.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var n=a.i(33508);let o=(0,f.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),p=(0,f.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),q=(0,f.default)("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),r=(0,f.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var s=a.i(96221),t=a.i(81560),u=a.i(61580),v=a.i(11156),w=a.i(60702);let x=(0,f.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var y=a.i(87532),z=a.i(44194);let A=(0,f.default)("salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]),B=(0,f.default)("soup",[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]]),C=(0,f.default)("glass-water",[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]]),D=(0,f.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),E=(0,f.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),F=(0,f.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var G=a.i(1631);function H(){let[a,f]=(0,c.useState)("orders"),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(null),[Z,$]=(0,c.useState)({name:"",description:"",price:"",category:"menu",image_url:""}),_=(0,e.useRouter)(),aa=(0,c.useRef)(null),ab=(0,d.createBrowserClient)("https://qmpymxajjxlfnlfybaqt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFtcHlteGFqanhsZm5sZnliYXF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2OTI4NjIsImV4cCI6MjA4NjI2ODg2Mn0.Oo4KnFI-Y6xkeI2xbEQ8zQBE7y63ZaztwbQvbU7bgiE");(0,c.useEffect)(()=>{aa.current=new Audio("https://cdn.freesound.org/previews/536/536108_1415754-lq.mp3"),(async()=>{let{data:{session:a}}=await ab.auth.getSession();a||_.push("/admin")})(),ac();let a=ab.channel("admin_realtime_v4").on("postgres_changes",{event:"*",schema:"public",table:"orders"},a=>ad(a)).on("postgres_changes",{event:"*",schema:"public",table:"products"},a=>ae(a)).subscribe();return()=>{ab.removeChannel(a)}},[]);let ac=async()=>{let{data:a}=await ab.from("orders").select("*").order("created_at",{ascending:!1});a&&I(a);let{data:b}=await ab.from("products").select("*").order("created_at",{ascending:!1});b&&K(b);let{data:c}=await ab.from("orders").select("customer_phone").eq("status","delivered");c&&M(Array.from(new Set(c.map(a=>a.customer_phone))))},ad=a=>{"INSERT"===a.eventType?(I(b=>[a.new,...b]),aa.current?.play().catch(()=>{})):"UPDATE"===a.eventType?I(b=>b.map(b=>b.id===a.new.id?{...b,...a.new}:b)):"DELETE"===a.eventType&&I(b=>b.filter(b=>b.id!==a.old.id))},ae=a=>{"INSERT"===a.eventType?K(b=>[a.new,...b]):"UPDATE"===a.eventType?K(b=>b.map(b=>b.id===a.new.id?a.new:b)):"DELETE"===a.eventType&&K(b=>b.filter(b=>b.id!==a.old.id))},af=async(a,b)=>{confirm(`\xbfConfirmas que recibiste S/ ${b.toFixed(2)} en tu Yape?`)&&(I(H.map(b=>b.id===a?{...b,payment_status:"paid"}:b)),await ab.from("orders").update({payment_status:"paid"}).eq("id",a),new Audio("https://cdn.freesound.org/previews/172/172205_3244838-lq.mp3").play().catch(()=>{}))},ag=async(a,b)=>{if(!confirm(`⚠️ \xbfBLOQUEAR PERMANENTEMENTE a ${b} (${a})?

Nunca m\xe1s podr\xe1 hacer pedidos.`))return;let{error:c}=await ab.from("customers").update({is_blacklisted:!0}).eq("phone",a);c?alert("Error: "+c.message):alert(`✅ Usuario ${a} bloqueado.`)},ah=async a=>{a.preventDefault(),Q(!0),await ab.from("products").insert([{...Z,price:parseFloat(Z.price),is_available:!0}]),O(!1),$({name:"",description:"",price:"",category:"menu",image_url:""}),Q(!1)},ai=async(a,b)=>{U(a),K(J.map(c=>c.id===a?{...c,is_available:!b}:c)),await ab.from("products").update({is_available:!b}).eq("id",a),U(null)},aj=async a=>{confirm("¿Borrar plato?")&&(K(J.filter(b=>b.id!==a)),await ab.from("products").delete().eq("id",a))},ak=async a=>{S(a),I(H.map(b=>b.id===a?{...b,status:"delivered"}:b)),await ab.from("orders").update({status:"delivered"}).eq("id",a),S(null)},al=async()=>{X&&(Q(!0),I(H.filter(a=>a.id!==X)),await ab.from("orders").delete().eq("id",X),Q(!1),W(!1),Y(null))},am=(a,c,d,e)=>{let f=J.filter(a=>a.category===c);return 0===f.length?null:(0,b.jsxs)("div",{className:"mb-10 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-5 pl-1",children:[(0,b.jsx)("div",{className:`p-2.5 rounded-xl ${e} text-white shadow-sm`,children:d}),(0,b.jsx)("h3",{className:"text-xl font-black text-gray-800 tracking-tight",children:a}),(0,b.jsx)("span",{className:"bg-gray-100 text-gray-500 text-xs font-bold px-2.5 py-1 rounded-full border border-gray-200",children:f.length})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6",children:f.map(a=>(0,b.jsxs)("div",{className:`bg-white p-4 rounded-[1.5rem] shadow-sm border border-gray-100 flex items-center gap-4 transition-all hover:shadow-lg ${!a.is_available?"opacity-60 bg-gray-50":""}`,children:[(0,b.jsxs)("div",{className:"relative w-20 h-20 md:w-24 md:h-24 shrink-0 bg-gray-100 rounded-xl overflow-hidden shadow-inner group",children:[(0,b.jsx)("img",{src:a.image_url||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c",alt:a.name,className:`w-full h-full object-cover ${!a.is_available?"grayscale":""}`}),!a.is_available&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:(0,b.jsx)("span",{className:"text-[9px] font-black text-white bg-black/50 px-2 py-1 rounded border border-white/20",children:"Agotado"})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 py-1 flex flex-col h-full justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("h3",{className:"font-bold text-sm md:text-base text-gray-900 truncate pr-2",children:a.name}),(0,b.jsx)("button",{onClick:()=>aj(a.id),className:"text-gray-300 hover:text-red-500 p-1.5 -mr-1.5 rounded-full hover:bg-red-50",children:(0,b.jsx)(t.Trash2,{size:16})})]}),(0,b.jsxs)("p",{className:"text-base md:text-lg font-black text-gray-900 mt-0.5",children:["S/ ",a.price]})]}),(0,b.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,b.jsx)("span",{className:"text-[9px] bg-gray-100 text-gray-500 px-2 py-0.5 rounded-lg uppercase font-bold tracking-wider border border-gray-200",children:a.category}),(0,b.jsx)("button",{onClick:()=>ai(a.id,a.is_available),disabled:T===a.id,className:`relative w-12 h-7 rounded-full transition-colors duration-300 shadow-inner ${a.is_available?"bg-green-500":"bg-gray-300"}`,children:(0,b.jsx)("span",{className:`absolute top-1 left-1 bg-white w-5 h-5 rounded-full shadow-md transform transition-transform duration-300 flex items-center justify-center ${a.is_available?"translate-x-5":"translate-x-0"}`,children:T===a.id?(0,b.jsx)(s.Loader2,{size:10,className:"animate-spin text-gray-400"}):a.is_available?(0,b.jsx)(h.CheckCircle,{size:10,className:"text-green-500"}):(0,b.jsx)(n.X,{size:10,className:"text-gray-400"})})})]})]})]},a.id))})]})};return(0,b.jsxs)("div",{className:"min-h-screen bg-[#F8F9FA] pb-32 font-sans text-gray-900 selection:bg-orange-100 selection:text-orange-900",children:[(0,b.jsxs)("div",{className:"sticky top-0 z-40 bg-white/85 backdrop-blur-xl border-b border-gray-200/50 px-4 md:px-8 py-3 md:py-4 flex items-center justify-between shadow-sm safe-area-top",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-orange-600 p-2 rounded-xl text-white shadow-lg shadow-orange-600/30",children:(0,b.jsx)(u.ChefHat,{size:20,strokeWidth:2.5})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"font-black text-base md:text-lg tracking-tight text-gray-900 leading-none",children:"D' Irma"}),(0,b.jsx)("p",{className:"text-[9px] md:text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-0.5",children:"Admin"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"p-2.5 text-gray-500 hover:text-gray-900 hover:bg-white rounded-xl border border-transparent hover:border-gray-200",children:(0,b.jsx)(l,{size:18})}),(0,b.jsx)("button",{onClick:()=>{confirm("¿Salir?")&&(ab.auth.signOut(),_.push("/admin"))},className:"p-2.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-xl border border-transparent hover:border-red-100",children:(0,b.jsx)(m,{size:18})})]})]}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mt-4 md:mt-6",children:(0,b.jsxs)("div",{className:"flex p-1.5 bg-gray-200/50 backdrop-blur-sm rounded-2xl border border-gray-200/50 w-full md:max-w-md mx-auto md:mx-0 relative",children:[(0,b.jsxs)("button",{onClick:()=>f("orders"),className:`flex-1 py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all relative z-10 touch-manipulation ${"orders"===a?"bg-white text-gray-900 shadow-md":"text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(g,{size:18,className:"orders"===a?"text-orange-500":""}),"Pedidos",H.filter(a=>"delivered"!==a.status).length>0&&(0,b.jsx)("span",{className:"bg-orange-600 text-white text-[10px] px-1.5 py-0.5 rounded-full font-black shadow-sm ml-1",children:H.filter(a=>"delivered"!==a.status).length})]}),(0,b.jsxs)("button",{onClick:()=>f("menu"),className:`flex-1 py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all relative z-10 touch-manipulation ${"menu"===a?"bg-white text-gray-900 shadow-md":"text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(j.Utensils,{size:18,className:"menu"===a?"text-orange-500":""}),"Menú"]})]})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mt-6",children:["orders"===a&&(0,b.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[0===H.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-32 opacity-50",children:[(0,b.jsx)("div",{className:"bg-white p-6 rounded-full mb-4 shadow-sm border border-gray-100",children:(0,b.jsx)(g,{size:48,className:"text-gray-300"})}),(0,b.jsx)("p",{className:"font-bold text-gray-500 text-xl",children:"Sin pedidos pendientes"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6",children:H.map(a=>{let c=L.includes(a.customer_phone);return(0,b.jsxs)("div",{className:`relative bg-white rounded-[2rem] p-5 md:p-6 shadow-sm border border-gray-100 flex flex-col justify-between transition-all hover:shadow-xl ${"delivered"===a.status?"opacity-60 grayscale bg-gray-50/50":""}`,children:[(0,b.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${"delivered"===a.status?"bg-green-500":"bg-orange-500"}`}),(0,b.jsxs)("div",{className:"pl-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,b.jsx)("div",{className:"flex items-center gap-2 mb-1",children:c?(0,b.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-md text-[9px] font-black border border-green-200 flex items-center gap-1 uppercase tracking-wider shrink-0",children:[(0,b.jsx)(D,{size:10})," Cliente Frecuente"]}):(0,b.jsxs)("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded-md text-[9px] font-black border border-yellow-200 flex items-center gap-1 uppercase tracking-wider animate-pulse shrink-0",children:[(0,b.jsx)(E,{size:10})," Nuevo Cliente"]})}),(0,b.jsx)("h3",{className:"font-black text-lg md:text-xl text-gray-900 leading-tight truncate",children:a.customer_name}),(0,b.jsxs)("div",{className:"flex flex-col gap-1 mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-600 font-bold bg-gray-50 w-fit px-2 py-1 rounded-lg",children:[(0,b.jsx)(i.MapPin,{size:14,className:"text-orange-500 shrink-0"}),(0,b.jsx)("span",{className:"truncate max-w-[150px]",children:a.customer_office})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-mono pl-1",children:[(0,b.jsx)(y.Search,{size:10})," ",a.customer_phone]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[(0,b.jsx)("span",{className:"text-[10px] font-black text-gray-400 bg-gray-50 px-2 py-1.5 rounded-lg border border-gray-100 uppercase tracking-wide",children:new Date(a.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),ag(a.customer_phone,a.customer_name)},className:"text-gray-300 hover:text-red-600 hover:bg-red-50 p-2 rounded-md transition-colors",title:"Bloquear Usuario",children:(0,b.jsx)(F,{size:18})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),Y(a.id),W(!0)},className:"text-gray-300 hover:text-orange-500 hover:bg-orange-50 p-2 rounded-md transition-colors",title:"Eliminar pedido",children:(0,b.jsx)(t.Trash2,{size:18})})]})]})]}),(0,b.jsx)("div",{className:"space-y-3 mb-6 max-h-[200px] overflow-y-auto custom-scrollbar pr-2",children:a.items.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-3 text-sm items-start border-b border-dashed border-gray-100 pb-2 last:border-0",children:[(0,b.jsxs)("span",{className:"font-black text-xs bg-gray-900 text-white px-2 py-1 rounded-md min-w-[28px] text-center shadow-sm shrink-0",children:[a.qty,"x"]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-gray-800 font-bold leading-tight pt-0.5",children:a.name}),a.options&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[a.options.entrada&&(0,b.jsx)("span",{className:"text-[9px] bg-orange-50 text-orange-700 px-1.5 py-0.5 rounded border border-orange-100 font-medium",children:a.options.entrada}),a.options.bebida&&(0,b.jsx)("span",{className:"text-[9px] bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded border border-blue-100 font-medium",children:a.options.bebida})]})]})]},c))})]}),(0,b.jsxs)("div",{className:"pl-3 mt-auto pt-4 border-t border-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Total"}),(0,b.jsxs)("div",{className:"text-2xl font-black text-gray-900 leading-none mt-0.5",children:["S/ ",a.total_amount.toFixed(2)]})]}),"yape"===a.payment_method?(0,b.jsxs)("div",{className:"flex flex-col items-end",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 bg-purple-100 text-purple-700 px-3 py-1 rounded-full border border-purple-200",children:[(0,b.jsx)(v.CreditCard,{size:14,className:"fill-purple-700/20"}),(0,b.jsx)("span",{className:"text-[10px] font-black uppercase tracking-wide",children:"YAPE"})]}),a.operation_code?(0,b.jsxs)("span",{className:"text-[10px] font-mono text-purple-500 mt-1 flex items-center gap-1 bg-white px-1.5 py-0.5 rounded border border-purple-100",children:[(0,b.jsx)(x,{size:10})," ",a.operation_code]}):(0,b.jsx)("span",{className:"text-[10px] text-red-400 font-bold mt-1 animate-pulse",children:"Sin código ⚠️"})]}):(0,b.jsxs)("div",{className:"flex flex-col items-end",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 bg-blue-100 text-blue-700 px-3 py-1 rounded-full border border-blue-200",children:[(0,b.jsx)(w.CalendarDays,{size:14,className:"fill-blue-700/20"}),(0,b.jsx)("span",{className:"text-[10px] font-black uppercase tracking-wide",children:"CUENTA"})]}),(0,b.jsx)("span",{className:"text-[10px] text-blue-400 mt-1 font-medium",children:"Fin de Mes"})]})]}),a.metadata&&(0,b.jsxs)("div",{className:"flex items-center gap-1 mb-3 text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit max-w-full",children:[(0,b.jsx)(G.Smartphone,{size:10,className:"shrink-0"}),(0,b.jsxs)("span",{className:"truncate",title:a.metadata.device,children:[a.metadata.device.includes("iPhone")?"iPhone":a.metadata.device.includes("Android")?"Android":"Web"," • ",a.metadata.ip.split(",")[0]]})]}),(0,b.jsx)("div",{className:"mt-4",children:"yape"===a.payment_method&&"verifying"===a.payment_status?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"bg-purple-50 border border-purple-100 p-3 rounded-xl flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-[10px] text-purple-400 font-bold uppercase tracking-widest",children:"Código"}),(0,b.jsx)("span",{className:"font-mono font-black text-lg text-purple-900 leading-none",children:a.operation_code||"---"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Monto"}),(0,b.jsxs)("div",{className:"font-black text-gray-900 leading-none",children:["S/ ",a.total_amount.toFixed(2)]})]})]}),(0,b.jsxs)("button",{onClick:()=>af(a.id,a.total_amount),className:"w-full bg-purple-600 text-white py-3.5 rounded-xl font-bold text-sm shadow-lg shadow-purple-200 hover:bg-purple-700 active:scale-95 transition-all flex items-center justify-center gap-2 touch-manipulation",children:[(0,b.jsx)(h.CheckCircle,{size:18})," CONFIRMAR DINERO"]}),(0,b.jsx)("p",{className:"text-[10px] text-center text-gray-400 mt-1",children:"* Verifica en tu App antes de confirmar."})]}):"delivered"!==a.status?(0,b.jsx)("button",{onClick:()=>ak(a.id),disabled:R===a.id,className:`w-full py-4 rounded-2xl font-bold text-sm flex items-center justify-center gap-2 transition-all shadow-xl active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed touch-manipulation ${"on_account"===a.payment_status?"bg-blue-600 text-white shadow-blue-200 hover:bg-blue-700":"bg-orange-600 text-white shadow-orange-200 hover:bg-orange-700"}`,children:R===a.id?(0,b.jsx)(s.Loader2,{size:20,className:"animate-spin"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Utensils,{size:20})," YA LO COCINÉ Y ENVIÉ"]})}):(0,b.jsxs)("div",{className:"w-full bg-gray-100 text-gray-400 py-3.5 rounded-2xl font-bold text-xs uppercase flex items-center justify-center gap-2 border border-gray-200 cursor-not-allowed",children:[(0,b.jsx)(h.CheckCircle,{size:16})," Pedido Finalizado"]})})]})]},a.id)})})]}),"menu"===a&&(0,b.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("button",{onClick:()=>O(!0),className:"w-full md:w-auto md:min-w-[300px] group bg-orange-50 border-2 border-dashed border-orange-300 rounded-[2rem] p-6 flex items-center justify-center gap-4 hover:bg-orange-100 hover:border-orange-500 transition-all active:scale-95 touch-manipulation",children:[(0,b.jsx)("div",{className:"bg-white p-3 rounded-full text-orange-600 shadow-md group-hover:scale-110 transition-transform",children:(0,b.jsx)(k.Plus,{size:24,strokeWidth:3})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("span",{className:"block font-black text-orange-900 text-lg leading-none",children:"Agregar Nuevo Plato"}),(0,b.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"Actualiza tu carta del día"})]})]})}),am("Menú Ejecutivo","menu",(0,b.jsx)(u.ChefHat,{size:20,strokeWidth:2.5}),"bg-orange-500"),am("Platos a la Carta","plato",(0,b.jsx)(B,{size:20,strokeWidth:2.5}),"bg-red-500"),am("Dietas Saludables","diet",(0,b.jsx)(A,{size:20,strokeWidth:2.5}),"bg-green-500"),am("Extras y Bebidas","extra",(0,b.jsx)(z.Coffee,{size:20,strokeWidth:2.5}),"bg-blue-500"),am("Bebidas","bebida",(0,b.jsx)(C,{size:20,strokeWidth:2.5}),"bg-cyan-500"),0===J.length&&(0,b.jsx)("div",{className:"text-center py-20 opacity-50",children:(0,b.jsx)("p",{className:"text-xl font-bold text-gray-400",children:"La carta está vacía."})})]})]}),N&&(0,b.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-md transition-opacity animate-in fade-in",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] p-6 md:p-8 shadow-2xl animate-in zoom-in-95 duration-300 border border-white/20 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[(0,b.jsx)("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 tracking-tight",children:"Nuevo Plato"}),(0,b.jsx)("button",{onClick:()=>O(!1),className:"p-2 bg-gray-50 rounded-full hover:bg-gray-100 transition-colors text-gray-400",children:(0,b.jsx)(n.X,{size:20})})]}),(0,b.jsxs)("form",{onSubmit:ah,className:"space-y-4 md:space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nombre"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(j.Utensils,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,b.jsx)("input",{required:!0,value:Z.name,onChange:a=>$({...Z,name:a.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-bold text-gray-900 outline-none transition-all text-base md:text-lg",placeholder:"Ej: Seco de Cabrito"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ingredientes"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(q,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,b.jsx)("input",{value:Z.description,onChange:a=>$({...Z,description:a.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-medium text-gray-900 outline-none transition-all text-sm md:text-base",placeholder:"Con frejoles y arroz..."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Precio"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(p,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,b.jsx)("input",{required:!0,type:"number",step:"0.10",value:Z.price,onChange:a=>$({...Z,price:a.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-bold text-gray-900 outline-none transition-all",placeholder:"0.00"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Categoría"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(r,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,b.jsxs)("select",{value:Z.category,onChange:a=>$({...Z,category:a.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-bold text-gray-900 outline-none cursor-pointer appearance-none text-sm md:text-base",children:[(0,b.jsx)("option",{value:"menu",children:"Menú Ejecutivo"}),(0,b.jsx)("option",{value:"plato",children:"Plato a la Carta"}),(0,b.jsx)("option",{value:"diet",children:"Dieta"}),(0,b.jsx)("option",{value:"extra",children:"Extra"}),(0,b.jsx)("option",{value:"bebida",children:"Bebida"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Foto URL"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(o,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,b.jsx)("input",{value:Z.image_url,onChange:a=>$({...Z,image_url:a.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-medium text-gray-900 outline-none transition-all text-xs md:text-sm",placeholder:"https://..."})]})]}),(0,b.jsx)("button",{type:"submit",disabled:P,className:"w-full bg-orange-600 text-white py-4 md:py-5 rounded-2xl font-black text-lg shadow-xl shadow-orange-200 mt-4 hover:bg-orange-700 active:scale-[0.98] transition-all disabled:opacity-50 flex items-center justify-center gap-2 touch-manipulation",children:P?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Loader2,{className:"animate-spin"})," Guardando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Plus,{size:24,strokeWidth:3})," GUARDAR PLATO"]})})]})]})}),V&&(0,b.jsxs)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 isolate",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gray-900/40 backdrop-blur-sm transition-opacity animate-in fade-in duration-300",onClick:()=>W(!1)}),(0,b.jsxs)("div",{className:"relative bg-white w-full max-w-sm rounded-[2.5rem] p-6 shadow-2xl ring-1 ring-black/5 flex flex-col items-center text-center animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[(0,b.jsxs)("div",{className:"mb-5 relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-red-100 rounded-full animate-ping opacity-20"}),(0,b.jsx)("div",{className:"relative bg-red-50 text-red-500 w-20 h-20 rounded-full flex items-center justify-center shadow-inner",children:(0,b.jsx)(t.Trash2,{size:32,strokeWidth:2,className:"drop-shadow-sm"})})]}),(0,b.jsx)("h3",{className:"text-2xl font-black text-gray-900 mb-2 tracking-tight",children:"¿Eliminar Pedido?"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 font-medium leading-relaxed px-4 mb-8",children:"Esta acción no se puede deshacer."}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 w-full",children:[(0,b.jsx)("button",{onClick:()=>W(!1),className:"w-full py-3.5 rounded-2xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 hover:text-gray-700 transition-all active:scale-95 touch-manipulation",children:"Cancelar"}),(0,b.jsx)("button",{onClick:al,disabled:P,className:"w-full py-3.5 rounded-2xl font-bold text-white bg-red-500 shadow-lg shadow-red-200 hover:bg-red-600 hover:shadow-red-300 transition-all active:scale-95 flex items-center justify-center gap-2 touch-manipulation",children:P?(0,b.jsx)(s.Loader2,{size:18,className:"animate-spin"}):"Eliminar"})]})]})]})]})}a.s(["default",()=>H],63056)}];

//# sourceMappingURL=src_app_%28admin%29_admin_dashboard_page_tsx_16ca89ab._.js.map
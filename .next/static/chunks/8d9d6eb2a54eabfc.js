(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},65056,e=>{"use strict";let t=(0,e.i(75254).default)("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);e.s(["ChefHat",()=>t],65056)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},92457,e=>{"use strict";let t=(0,e.i(75254).default)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);e.s(["Utensils",()=>t],92457)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},61659,e=>{"use strict";let t=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>t],61659)},89853,e=>{"use strict";let t=(0,e.i(75254).default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);e.s(["CalendarDays",()=>t],89853)},96139,e=>{"use strict";let t=(0,e.i(75254).default)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);e.s(["Coffee",()=>t],96139)},26707,e=>{"use strict";let t=(0,e.i(75254).default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);e.s(["Smartphone",()=>t],26707)},17296,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(71645);e.i(29225);var s=e.i(72390),r=e.i(18566),l=e.i(75254);let i=(0,l.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var d=e.i(69638),n=e.i(46897),o=e.i(92457),c=e.i(7233);let x=(0,l.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),p=(0,l.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var m=e.i(37727);let h=(0,l.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),u=(0,l.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),g=(0,l.default)("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),y=(0,l.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var b=e.i(31278),f=e.i(27612),j=e.i(65056),v=e.i(61659),k=e.i(89853);let N=(0,l.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var w=e.i(55436),M=e.i(96139);let z=(0,l.default)("salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]),C=(0,l.default)("soup",[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]]),_=(0,l.default)("glass-water",[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]]),E=(0,l.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),A=(0,l.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),S=(0,l.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var q=e.i(26707);function I(){let[e,l]=(0,a.useState)("orders"),[I,T]=(0,a.useState)([]),[P,F]=(0,a.useState)([]),[H,L]=(0,a.useState)([]),[U,O]=(0,a.useState)(!1),[R,D]=(0,a.useState)(!1),[$,V]=(0,a.useState)(null),[B,W]=(0,a.useState)(null),[Z,Y]=(0,a.useState)(!1),[J,X]=(0,a.useState)(null),[Q,G]=(0,a.useState)({name:"",description:"",price:"",category:"menu",image_url:""}),K=(0,r.useRouter)(),ee=(0,a.useRef)(null),et=(0,s.createBrowserClient)("https://qmpymxajjxlfnlfybaqt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFtcHlteGFqanhsZm5sZnliYXF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2OTI4NjIsImV4cCI6MjA4NjI2ODg2Mn0.Oo4KnFI-Y6xkeI2xbEQ8zQBE7y63ZaztwbQvbU7bgiE");(0,a.useEffect)(()=>{ee.current=new Audio("https://cdn.freesound.org/previews/536/536108_1415754-lq.mp3"),(async()=>{let{data:{session:e}}=await et.auth.getSession();e||K.push("/admin")})(),ea();let e=et.channel("admin_realtime_v4").on("postgres_changes",{event:"*",schema:"public",table:"orders"},e=>es(e)).on("postgres_changes",{event:"*",schema:"public",table:"products"},e=>er(e)).subscribe();return()=>{et.removeChannel(e)}},[]);let ea=async()=>{let{data:e}=await et.from("orders").select("*").order("created_at",{ascending:!1});e&&T(e);let{data:t}=await et.from("products").select("*").order("created_at",{ascending:!1});t&&F(t);let{data:a}=await et.from("orders").select("customer_phone").eq("status","delivered");a&&L(Array.from(new Set(a.map(e=>e.customer_phone))))},es=e=>{"INSERT"===e.eventType?(T(t=>[e.new,...t]),ee.current?.play().catch(()=>{})):"UPDATE"===e.eventType?T(t=>t.map(t=>t.id===e.new.id?{...t,...e.new}:t)):"DELETE"===e.eventType&&T(t=>t.filter(t=>t.id!==e.old.id))},er=e=>{"INSERT"===e.eventType?F(t=>[e.new,...t]):"UPDATE"===e.eventType?F(t=>t.map(t=>t.id===e.new.id?e.new:t)):"DELETE"===e.eventType&&F(t=>t.filter(t=>t.id!==e.old.id))},el=async(e,t)=>{confirm(`\xbfConfirmas que recibiste S/ ${t.toFixed(2)} en tu Yape?`)&&(T(I.map(t=>t.id===e?{...t,payment_status:"paid"}:t)),await et.from("orders").update({payment_status:"paid"}).eq("id",e),new Audio("https://cdn.freesound.org/previews/172/172205_3244838-lq.mp3").play().catch(()=>{}))},ei=async(e,t)=>{if(!confirm(`⚠️ \xbfBLOQUEAR PERMANENTEMENTE a ${t} (${e})?

Nunca m\xe1s podr\xe1 hacer pedidos.`))return;let{error:a}=await et.from("customers").update({is_blacklisted:!0}).eq("phone",e);a?alert("Error: "+a.message):alert(`✅ Usuario ${e} bloqueado.`)},ed=async e=>{e.preventDefault(),D(!0),await et.from("products").insert([{...Q,price:parseFloat(Q.price),is_available:!0}]),O(!1),G({name:"",description:"",price:"",category:"menu",image_url:""}),D(!1)},en=async(e,t)=>{W(e),F(P.map(a=>a.id===e?{...a,is_available:!t}:a)),await et.from("products").update({is_available:!t}).eq("id",e),W(null)},eo=async e=>{confirm("¿Borrar plato?")&&(F(P.filter(t=>t.id!==e)),await et.from("products").delete().eq("id",e))},ec=async e=>{V(e),T(I.map(t=>t.id===e?{...t,status:"delivered"}:t)),await et.from("orders").update({status:"delivered"}).eq("id",e),V(null)},ex=async()=>{J&&(D(!0),T(I.filter(e=>e.id!==J)),await et.from("orders").delete().eq("id",J),D(!1),Y(!1),X(null))},ep=(e,a,s,r)=>{let l=P.filter(e=>e.category===a);return 0===l.length?null:(0,t.jsxs)("div",{className:"mb-10 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-5 pl-1",children:[(0,t.jsx)("div",{className:`p-2.5 rounded-xl ${r} text-white shadow-sm`,children:s}),(0,t.jsx)("h3",{className:"text-xl font-black text-gray-800 tracking-tight",children:e}),(0,t.jsx)("span",{className:"bg-gray-100 text-gray-500 text-xs font-bold px-2.5 py-1 rounded-full border border-gray-200",children:l.length})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6",children:l.map(e=>(0,t.jsxs)("div",{className:`bg-white p-4 rounded-[1.5rem] shadow-sm border border-gray-100 flex items-center gap-4 transition-all hover:shadow-lg ${!e.is_available?"opacity-60 bg-gray-50":""}`,children:[(0,t.jsxs)("div",{className:"relative w-20 h-20 md:w-24 md:h-24 shrink-0 bg-gray-100 rounded-xl overflow-hidden shadow-inner group",children:[(0,t.jsx)("img",{src:e.image_url||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c",alt:e.name,className:`w-full h-full object-cover ${!e.is_available?"grayscale":""}`}),!e.is_available&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:(0,t.jsx)("span",{className:"text-[9px] font-black text-white bg-black/50 px-2 py-1 rounded border border-white/20",children:"Agotado"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 py-1 flex flex-col h-full justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("h3",{className:"font-bold text-sm md:text-base text-gray-900 truncate pr-2",children:e.name}),(0,t.jsx)("button",{onClick:()=>eo(e.id),className:"text-gray-300 hover:text-red-500 p-1.5 -mr-1.5 rounded-full hover:bg-red-50",children:(0,t.jsx)(f.Trash2,{size:16})})]}),(0,t.jsxs)("p",{className:"text-base md:text-lg font-black text-gray-900 mt-0.5",children:["S/ ",e.price]})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,t.jsx)("span",{className:"text-[9px] bg-gray-100 text-gray-500 px-2 py-0.5 rounded-lg uppercase font-bold tracking-wider border border-gray-200",children:e.category}),(0,t.jsx)("button",{onClick:()=>en(e.id,e.is_available),disabled:B===e.id,className:`relative w-12 h-7 rounded-full transition-colors duration-300 shadow-inner ${e.is_available?"bg-green-500":"bg-gray-300"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 bg-white w-5 h-5 rounded-full shadow-md transform transition-transform duration-300 flex items-center justify-center ${e.is_available?"translate-x-5":"translate-x-0"}`,children:B===e.id?(0,t.jsx)(b.Loader2,{size:10,className:"animate-spin text-gray-400"}):e.is_available?(0,t.jsx)(d.CheckCircle,{size:10,className:"text-green-500"}):(0,t.jsx)(m.X,{size:10,className:"text-gray-400"})})})]})]})]},e.id))})]})};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#F8F9FA] pb-32 font-sans text-gray-900 selection:bg-orange-100 selection:text-orange-900",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-40 bg-white/85 backdrop-blur-xl border-b border-gray-200/50 px-4 md:px-8 py-3 md:py-4 flex items-center justify-between shadow-sm safe-area-top",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-orange-600 p-2 rounded-xl text-white shadow-lg shadow-orange-600/30",children:(0,t.jsx)(j.ChefHat,{size:20,strokeWidth:2.5})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-black text-base md:text-lg tracking-tight text-gray-900 leading-none",children:"D' Irma"}),(0,t.jsx)("p",{className:"text-[9px] md:text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-0.5",children:"Admin"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"p-2.5 text-gray-500 hover:text-gray-900 hover:bg-white rounded-xl border border-transparent hover:border-gray-200",children:(0,t.jsx)(x,{size:18})}),(0,t.jsx)("button",{onClick:()=>{confirm("¿Salir?")&&(et.auth.signOut(),K.push("/admin"))},className:"p-2.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-xl border border-transparent hover:border-red-100",children:(0,t.jsx)(p,{size:18})})]})]}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mt-4 md:mt-6",children:(0,t.jsxs)("div",{className:"flex p-1.5 bg-gray-200/50 backdrop-blur-sm rounded-2xl border border-gray-200/50 w-full md:max-w-md mx-auto md:mx-0 relative",children:[(0,t.jsxs)("button",{onClick:()=>l("orders"),className:`flex-1 py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all relative z-10 touch-manipulation ${"orders"===e?"bg-white text-gray-900 shadow-md":"text-gray-500 hover:text-gray-700"}`,children:[(0,t.jsx)(i,{size:18,className:"orders"===e?"text-orange-500":""}),"Pedidos",I.filter(e=>"delivered"!==e.status).length>0&&(0,t.jsx)("span",{className:"bg-orange-600 text-white text-[10px] px-1.5 py-0.5 rounded-full font-black shadow-sm ml-1",children:I.filter(e=>"delivered"!==e.status).length})]}),(0,t.jsxs)("button",{onClick:()=>l("menu"),className:`flex-1 py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all relative z-10 touch-manipulation ${"menu"===e?"bg-white text-gray-900 shadow-md":"text-gray-500 hover:text-gray-700"}`,children:[(0,t.jsx)(o.Utensils,{size:18,className:"menu"===e?"text-orange-500":""}),"Menú"]})]})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mt-6",children:["orders"===e&&(0,t.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[0===I.length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-32 opacity-50",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-full mb-4 shadow-sm border border-gray-100",children:(0,t.jsx)(i,{size:48,className:"text-gray-300"})}),(0,t.jsx)("p",{className:"font-bold text-gray-500 text-xl",children:"Sin pedidos pendientes"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6",children:I.map(e=>{let a=H.includes(e.customer_phone);return(0,t.jsxs)("div",{className:`relative bg-white rounded-[2rem] p-5 md:p-6 shadow-sm border border-gray-100 flex flex-col justify-between transition-all hover:shadow-xl ${"delivered"===e.status?"opacity-60 grayscale bg-gray-50/50":""}`,children:[(0,t.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${"delivered"===e.status?"bg-green-500":"bg-orange-500"}`}),(0,t.jsxs)("div",{className:"pl-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-1",children:a?(0,t.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-md text-[9px] font-black border border-green-200 flex items-center gap-1 uppercase tracking-wider shrink-0",children:[(0,t.jsx)(E,{size:10})," Cliente Frecuente"]}):(0,t.jsxs)("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded-md text-[9px] font-black border border-yellow-200 flex items-center gap-1 uppercase tracking-wider animate-pulse shrink-0",children:[(0,t.jsx)(A,{size:10})," Nuevo Cliente"]})}),(0,t.jsx)("h3",{className:"font-black text-lg md:text-xl text-gray-900 leading-tight truncate",children:e.customer_name}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-600 font-bold bg-gray-50 w-fit px-2 py-1 rounded-lg",children:[(0,t.jsx)(n.MapPin,{size:14,className:"text-orange-500 shrink-0"}),(0,t.jsx)("span",{className:"truncate max-w-[150px]",children:e.customer_office})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-mono pl-1",children:[(0,t.jsx)(w.Search,{size:10})," ",e.customer_phone]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-gray-400 bg-gray-50 px-2 py-1.5 rounded-lg border border-gray-100 uppercase tracking-wide",children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),ei(e.customer_phone,e.customer_name)},className:"text-gray-300 hover:text-red-600 hover:bg-red-50 p-2 rounded-md transition-colors",title:"Bloquear Usuario",children:(0,t.jsx)(S,{size:18})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),X(e.id),Y(!0)},className:"text-gray-300 hover:text-orange-500 hover:bg-orange-50 p-2 rounded-md transition-colors",title:"Eliminar pedido",children:(0,t.jsx)(f.Trash2,{size:18})})]})]})]}),(0,t.jsx)("div",{className:"space-y-3 mb-6 max-h-[200px] overflow-y-auto custom-scrollbar pr-2",children:e.items.map((e,a)=>(0,t.jsxs)("div",{className:"flex gap-3 text-sm items-start border-b border-dashed border-gray-100 pb-2 last:border-0",children:[(0,t.jsxs)("span",{className:"font-black text-xs bg-gray-900 text-white px-2 py-1 rounded-md min-w-[28px] text-center shadow-sm shrink-0",children:[e.qty,"x"]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-800 font-bold leading-tight pt-0.5",children:e.name}),e.options&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[e.options.entrada&&(0,t.jsx)("span",{className:"text-[9px] bg-orange-50 text-orange-700 px-1.5 py-0.5 rounded border border-orange-100 font-medium",children:e.options.entrada}),e.options.bebida&&(0,t.jsx)("span",{className:"text-[9px] bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded border border-blue-100 font-medium",children:e.options.bebida})]})]})]},a))})]}),(0,t.jsxs)("div",{className:"pl-3 mt-auto pt-4 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Total"}),(0,t.jsxs)("div",{className:"text-2xl font-black text-gray-900 leading-none mt-0.5",children:["S/ ",e.total_amount.toFixed(2)]})]}),"yape"===e.payment_method?(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 bg-purple-100 text-purple-700 px-3 py-1 rounded-full border border-purple-200",children:[(0,t.jsx)(v.CreditCard,{size:14,className:"fill-purple-700/20"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-wide",children:"YAPE"})]}),e.operation_code?(0,t.jsxs)("span",{className:"text-[10px] font-mono text-purple-500 mt-1 flex items-center gap-1 bg-white px-1.5 py-0.5 rounded border border-purple-100",children:[(0,t.jsx)(N,{size:10})," ",e.operation_code]}):(0,t.jsx)("span",{className:"text-[10px] text-red-400 font-bold mt-1 animate-pulse",children:"Sin código ⚠️"})]}):(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 bg-blue-100 text-blue-700 px-3 py-1 rounded-full border border-blue-200",children:[(0,t.jsx)(k.CalendarDays,{size:14,className:"fill-blue-700/20"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-wide",children:"CUENTA"})]}),(0,t.jsx)("span",{className:"text-[10px] text-blue-400 mt-1 font-medium",children:"Fin de Mes"})]})]}),e.metadata&&(0,t.jsxs)("div",{className:"flex items-center gap-1 mb-3 text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit max-w-full",children:[(0,t.jsx)(q.Smartphone,{size:10,className:"shrink-0"}),(0,t.jsxs)("span",{className:"truncate",title:e.metadata.device,children:[e.metadata.device.includes("iPhone")?"iPhone":e.metadata.device.includes("Android")?"Android":"Web"," • ",e.metadata.ip.split(",")[0]]})]}),(0,t.jsx)("div",{className:"mt-4",children:"yape"===e.payment_method&&"verifying"===e.payment_status?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-purple-50 border border-purple-100 p-3 rounded-xl flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] text-purple-400 font-bold uppercase tracking-widest",children:"Código"}),(0,t.jsx)("span",{className:"font-mono font-black text-lg text-purple-900 leading-none",children:e.operation_code||"---"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Monto"}),(0,t.jsxs)("div",{className:"font-black text-gray-900 leading-none",children:["S/ ",e.total_amount.toFixed(2)]})]})]}),(0,t.jsxs)("button",{onClick:()=>el(e.id,e.total_amount),className:"w-full bg-purple-600 text-white py-3.5 rounded-xl font-bold text-sm shadow-lg shadow-purple-200 hover:bg-purple-700 active:scale-95 transition-all flex items-center justify-center gap-2 touch-manipulation",children:[(0,t.jsx)(d.CheckCircle,{size:18})," CONFIRMAR DINERO"]}),(0,t.jsx)("p",{className:"text-[10px] text-center text-gray-400 mt-1",children:"* Verifica en tu App antes de confirmar."})]}):"delivered"!==e.status?(0,t.jsx)("button",{onClick:()=>ec(e.id),disabled:$===e.id,className:`w-full py-4 rounded-2xl font-bold text-sm flex items-center justify-center gap-2 transition-all shadow-xl active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed touch-manipulation ${"on_account"===e.payment_status?"bg-blue-600 text-white shadow-blue-200 hover:bg-blue-700":"bg-orange-600 text-white shadow-orange-200 hover:bg-orange-700"}`,children:$===e.id?(0,t.jsx)(b.Loader2,{size:20,className:"animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Utensils,{size:20})," YA LO COCINÉ Y ENVIÉ"]})}):(0,t.jsxs)("div",{className:"w-full bg-gray-100 text-gray-400 py-3.5 rounded-2xl font-bold text-xs uppercase flex items-center justify-center gap-2 border border-gray-200 cursor-not-allowed",children:[(0,t.jsx)(d.CheckCircle,{size:16})," Pedido Finalizado"]})})]})]},e.id)})})]}),"menu"===e&&(0,t.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("button",{onClick:()=>O(!0),className:"w-full md:w-auto md:min-w-[300px] group bg-orange-50 border-2 border-dashed border-orange-300 rounded-[2rem] p-6 flex items-center justify-center gap-4 hover:bg-orange-100 hover:border-orange-500 transition-all active:scale-95 touch-manipulation",children:[(0,t.jsx)("div",{className:"bg-white p-3 rounded-full text-orange-600 shadow-md group-hover:scale-110 transition-transform",children:(0,t.jsx)(c.Plus,{size:24,strokeWidth:3})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("span",{className:"block font-black text-orange-900 text-lg leading-none",children:"Agregar Nuevo Plato"}),(0,t.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"Actualiza tu carta del día"})]})]})}),ep("Menú Ejecutivo","menu",(0,t.jsx)(j.ChefHat,{size:20,strokeWidth:2.5}),"bg-orange-500"),ep("Platos a la Carta","plato",(0,t.jsx)(C,{size:20,strokeWidth:2.5}),"bg-red-500"),ep("Dietas Saludables","diet",(0,t.jsx)(z,{size:20,strokeWidth:2.5}),"bg-green-500"),ep("Extras y Bebidas","extra",(0,t.jsx)(M.Coffee,{size:20,strokeWidth:2.5}),"bg-blue-500"),ep("Bebidas","bebida",(0,t.jsx)(_,{size:20,strokeWidth:2.5}),"bg-cyan-500"),0===P.length&&(0,t.jsx)("div",{className:"text-center py-20 opacity-50",children:(0,t.jsx)("p",{className:"text-xl font-bold text-gray-400",children:"La carta está vacía."})})]})]}),U&&(0,t.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-md transition-opacity animate-in fade-in",children:(0,t.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] p-6 md:p-8 shadow-2xl animate-in zoom-in-95 duration-300 border border-white/20 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[(0,t.jsx)("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 tracking-tight",children:"Nuevo Plato"}),(0,t.jsx)("button",{onClick:()=>O(!1),className:"p-2 bg-gray-50 rounded-full hover:bg-gray-100 transition-colors text-gray-400",children:(0,t.jsx)(m.X,{size:20})})]}),(0,t.jsxs)("form",{onSubmit:ed,className:"space-y-4 md:space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nombre"}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(o.Utensils,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,t.jsx)("input",{required:!0,value:Q.name,onChange:e=>G({...Q,name:e.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-bold text-gray-900 outline-none transition-all text-base md:text-lg",placeholder:"Ej: Seco de Cabrito"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ingredientes"}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(g,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,t.jsx)("input",{value:Q.description,onChange:e=>G({...Q,description:e.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-medium text-gray-900 outline-none transition-all text-sm md:text-base",placeholder:"Con frejoles y arroz..."})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Precio"}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(u,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,t.jsx)("input",{required:!0,type:"number",step:"0.10",value:Q.price,onChange:e=>G({...Q,price:e.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-bold text-gray-900 outline-none transition-all",placeholder:"0.00"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Categoría"}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(y,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,t.jsxs)("select",{value:Q.category,onChange:e=>G({...Q,category:e.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-bold text-gray-900 outline-none cursor-pointer appearance-none text-sm md:text-base",children:[(0,t.jsx)("option",{value:"menu",children:"Menú Ejecutivo"}),(0,t.jsx)("option",{value:"plato",children:"Plato a la Carta"}),(0,t.jsx)("option",{value:"diet",children:"Dieta"}),(0,t.jsx)("option",{value:"extra",children:"Extra"}),(0,t.jsx)("option",{value:"bebida",children:"Bebida"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Foto URL"}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:20}),(0,t.jsx)("input",{value:Q.image_url,onChange:e=>G({...Q,image_url:e.target.value}),className:"w-full pl-12 pr-4 py-3 md:py-4 bg-gray-50 border-2 border-transparent focus:bg-white focus:border-orange-500 rounded-2xl font-medium text-gray-900 outline-none transition-all text-xs md:text-sm",placeholder:"https://..."})]})]}),(0,t.jsx)("button",{type:"submit",disabled:R,className:"w-full bg-orange-600 text-white py-4 md:py-5 rounded-2xl font-black text-lg shadow-xl shadow-orange-200 mt-4 hover:bg-orange-700 active:scale-[0.98] transition-all disabled:opacity-50 flex items-center justify-center gap-2 touch-manipulation",children:R?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Loader2,{className:"animate-spin"})," Guardando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Plus,{size:24,strokeWidth:3})," GUARDAR PLATO"]})})]})]})}),Z&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 isolate",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-900/40 backdrop-blur-sm transition-opacity animate-in fade-in duration-300",onClick:()=>Y(!1)}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-sm rounded-[2.5rem] p-6 shadow-2xl ring-1 ring-black/5 flex flex-col items-center text-center animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[(0,t.jsxs)("div",{className:"mb-5 relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-red-100 rounded-full animate-ping opacity-20"}),(0,t.jsx)("div",{className:"relative bg-red-50 text-red-500 w-20 h-20 rounded-full flex items-center justify-center shadow-inner",children:(0,t.jsx)(f.Trash2,{size:32,strokeWidth:2,className:"drop-shadow-sm"})})]}),(0,t.jsx)("h3",{className:"text-2xl font-black text-gray-900 mb-2 tracking-tight",children:"¿Eliminar Pedido?"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 font-medium leading-relaxed px-4 mb-8",children:"Esta acción no se puede deshacer."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 w-full",children:[(0,t.jsx)("button",{onClick:()=>Y(!1),className:"w-full py-3.5 rounded-2xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 hover:text-gray-700 transition-all active:scale-95 touch-manipulation",children:"Cancelar"}),(0,t.jsx)("button",{onClick:ex,disabled:R,className:"w-full py-3.5 rounded-2xl font-bold text-white bg-red-500 shadow-lg shadow-red-200 hover:bg-red-600 hover:shadow-red-300 transition-all active:scale-95 flex items-center justify-center gap-2 touch-manipulation",children:R?(0,t.jsx)(b.Loader2,{size:18,className:"animate-spin"}):"Eliminar"})]})]})]})]})}e.s(["default",()=>I],17296)}]);